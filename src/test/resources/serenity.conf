webdriver {
  driver = chrome
  autodownload = true
}
headless.mode = true

serenity {
  take.screenshots = FOR_FAILURES
  browser {
    width = 1920
    height = 1080
  }
}

#
# Chrome options can be defined using the chrome.switches property
#
chrome.switches = """--start-maximized;--test-type;--no-sandbox;--ignore-certificate-errors;
                   --disable-popup-blocking;--disable-default-apps;--disable-extensions-file-access-check;
                   --incognito;--disable-infobars,--disable-gpu"""
#
# Report config
#
hidden.tags = "resetappstate, singlebrowser"

webdriver {
  logprefs {
    driver = ALL
    browser = INFO
  }
}

environments {
  with_screenshots {
    serenity {
      take.screenshots = BEFORE_AND_AFTER_EACH_STEP
    }
  }

  #
  # Specify browserstack.user and browserstack.key on the command line, e.g.
  #  mvn verify -Denvironment=run_with_browserstack -Dbrowserstack.user=<MY_BROWSERSTACK_USER> -Dbrowserstack.key=<MY_API_KEY>
  #
  run_with_browserstack {
    webdriver.driver = remote
    webdriver.remote.url = "https://#{browserstack.user}:#{browserstack.key}@hub-cloud.browserstack.com/wd/hub"
    headless.mode = false
    browserstack {
      os = "Windows"
      os_version = "10"
      browser = "Edge"
      browser_version = "latest"
      resolution = "1020x1080"
    }
  }
}
